<html>
<body>
		<div style="width: 500px; height: 20px; background-color: #efefef; border-radius: 10px; overflow: hidden;">
				<div id="inner" style="width: 0px; height: 20px; background: url('stripes.png');"></div>
		</div>
<script type="text/javascript">
	inner = document.getElementById('inner');
	var position = 0
	var width = 0

    innerIntOne = window.setInterval(function() {
        inner.style.backgroundPosition = --position; 
    }, 20);

	innerIntTwo = window.setInterval(function() {
		if (Math.random() < 0.5) { 
			width = width + 50;
		} else {
		    width = width + 30;
		}
		inner.style.width = width;
		if (parseInt(inner.style.width) > 500) {
		    window.clearInterval(innerIntOne);
			window.clearInterval(innerIntTwo);
			inner.parentElement.removeChild(inner);
		}
	}, 600);

	window.setTimeout(function() {
		window.location.href = window.location.href;				
	}, 10000)
</script>
</body>
</html>
